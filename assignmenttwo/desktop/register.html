<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Log-in</title>
  <link rel="stylesheet" href="../bootstrap/css/scottstyle.css">
  <link rel="stylesheet" type='text/css' href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
</head>  
  <body>
  <div class="login-card">
    <h1>Register</h1><br>
    <form  class='text-center' onsubmit='registerUser()'>
      <input type="text" id="user" placeholder="Username">
      <input type="text" id="email" placeholder="Email">
      <input type="password" id="pass" placeholder="Password">
      <input type="submit"  class="btn btn-default">Register</input>
    </form>
    <div class="login-help">
      <a href="index.html">Login</a> â€¢ <a href="#">Forgot Password</a>
    </div>
  </div>

  <script>
  Parse.initialize("C1vSKr7qozzQJbvpdwgirOAnFegdiBA4ATzsMIts", "z9OYp348kGoWdYpHOu1thm2D8897Q7ub7aDB67Mx");
  
  function registerUser(){
    var username = document.getElementById("user").value;
    var pass = document.getElementById("pass").value;
    var email = document.getElementById("email").value;
 
    //create a new user and login  
    var user = new Parse.User();
    user.set("username", username);
    user.set("password", pass);
    user.set("email", email);


    user.signUp(null, {
      success: function(user) {
	// Hooray! Let them use the app now.
	window.location.assign("index.html");
      },
      error: function(user, error) {
	// Show the error message somewhere and let the user try again.
	alert("Error: " + error.code + " " + error.message);
      }
    });
  event.preventDefault();
}
</script>
  </body>
</html>
